# GenericWhaleMarket

**5 Methods | 9 Global State | 2 Box Storage | ARC-22, ARC-28**

## Contract Information

- **Compiler**: puya
- **Approval Program**: 18,804 bytes
- **Clear Program**: 184 bytes

## State Schema

### Global State
- **Bytes**: 3
- **Uints**: 6

### Local State
- **Bytes**: 0
- **Uints**: 0

## Global State Keys

| Key | Type | Description |
|-----|------|-------------|
| `market_name` | `AVMString` |  |
| `label_a` | `AVMString` |  |
| `label_b` | `AVMString` |  |
| `total_a_pool` | `AVMUint64` |  |
| `total_b_pool` | `AVMUint64` |  |
| `is_resolved` | `AVMUint64` |  |
| `winner` | `AVMUint64` |  |
| `house_fee_bp` | `AVMUint64` |  |
| `mbr_cost` | `AVMUint64` |  |

## Box Maps

| Name | Key Type | Value Type | Prefix | Description |
|------|----------|------------|--------|-------------|
| `stakes_a` | `address` | `uint64` | stakes_a |  |
| `stakes_b` | `address` | `uint64` | stakes_b |  |

## Methods

### `initialize_market`

Sets the event details. Creator only, call once after deploy.

**Signature:** `initialize_market(string,string,string)void`

**Arguments:**

| Name | Type | Description |
|------|------|-------------|
| `name` | `string` |  |
| `a_name` | `string` |  |
| `b_name` | `string` |  |

**Returns:** `void`

---

### `bet`

Users bet on Side A (True) or Side B (False).

**Signature:** `bet(pay,bool)void`

**Arguments:**

| Name | Type | Description |
|------|------|-------------|
| `payment` | `pay` |  |
| `side_a` | `bool` |  |

**Returns:** `void`

---

### `resolve`

Creator declares the winner (1 or 2).

**Signature:** `resolve(uint64)void`

**Arguments:**

| Name | Type | Description |
|------|------|-------------|
| `winner_code` | `uint64` |  |

**Returns:** `void`

---

### `claim`

Winners claim their share of the total pool.

**Signature:** `claim()void`

**Returns:** `void`

---

### `withdraw_house_profit`

Creator withdraws the 2% fee and reclaimed MBR deposits.

**Signature:** `withdraw_house_profit()void`

**Returns:** `void`

---

## Bare Actions

**On Create:** NoOp


---

*Generated by [AVM Studio](https://avmstudio.com)*
